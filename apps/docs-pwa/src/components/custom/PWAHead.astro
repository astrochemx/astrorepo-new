---
import { pwaAssetsHead } from 'virtual:pwa-assets/head';
import { pwaInfo } from 'virtual:pwa-info';

export interface Props {
  autoUpdateScript: boolean;
  pwaAssets: boolean;
}

const { autoUpdateScript, pwaAssets } = Astro.props;
---

{
  pwaAssets && pwaAssetsHead && pwaAssetsHead.themeColor && (
    <meta name="theme-color" content={pwaAssetsHead.themeColor.content} />
  )
}
{pwaAssets && pwaAssetsHead && pwaAssetsHead.links.map((link) => <link {...link} />)}
{pwaInfo && <Fragment set:html={pwaInfo.webManifest.linkTag} />}

{autoUpdateScript && <script src="../../pwa.ts" />}
